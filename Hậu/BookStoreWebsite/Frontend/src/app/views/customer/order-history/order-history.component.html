<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css">

<body class="archive tax-product_cat term-personal-finance term-13 woocommerce woocommerce-page wpb-js-composer 
js-comp-ver-4.9.2 vc_responsive ">
    <div class="wrapper">
        <!-- //MAIN NAVIGATION -->
        <div class="product-header bks-breadcrumb">
            <div class="container">
                <h1>Lịch Sử Mua Hàng</h1>
            </div>
        </div>
        <div class="container padding-40-v">
            <div id="main-content" class="col-xs-12 col-sm-9 right">

                <div id="container">
                    <div id="content" role="main">
                        <!-- <div style="background-color: #EEE;height:60px;width: 100%;text-align: center;">
                                <b style="top:15px;position: relative;">Lịch sử mua hàng của bạn đang trống </b></div> -->
                        <div class="container">

                            <div class="row order_sorter">
                                <ul id="toggle-orders" style="text-align: center;">
                                    <li class="first"></li>
                                    <li class="oh selected"><a type="button">Đơn Hàng Chờ Xác Nhận</a></li>
                                    <li class="fo"><a type="button">Đơn Hàng Đang Giao</a></li>
                                    <li class="com"><a type="button">Đơn Hàng Đã Giao</a></li>
                                </ul>
                            </div>
                            <!-- new (Cash)-->
                            <div class="row" id="order-history">
                                <div *ngFor="let order of list_Order">
                                    <div class="order-container" *ngIf="order.status=='New'&&order.paymentOption=='Cash'">

                                        <div class="header">
                                            <div class="row">
                                                <div class="col-sm-3"><span>Ngày Đặt Hàng</span><span>{{order.orderDate}}</span></div>
                                                <div *ngIf="order.discountCode!=0" class="col-sm-3"><span>Tổng Đơn Hàng</span><span>{{order.totalPrice|currency:"VND"}} - {{(order.totalPrice*order.discountCode)/100|currency:"VND"}}({{order.discountCode}}%)={{(order.totalPrice*(100-order.discountCode))/100|currency:"VND"}}    </span></div>
                                                <div *ngIf="order.discountCode==0" class="col-sm-3"><span>Tổng Đơn Hàng</span><span>{{order.totalPrice|currency:"VND"}} </span></div>
                                                <div *ngFor="let cus of list_all_customer">
                                                    <div class="col-sm-2" *ngIf="cus._id==order.customerID"><span>Người Đặt Hàng</span><span>{{cus.name}}</span></div>
                                                </div>

                                                <div class="col-sm-2"><span>Trạng thái</span><span>Chờ xác nhận </span></div>
                                                <div class="col-sm-2">
                                                    <div class="box">
                                                        <a href="#" class="btn-default">Cancel</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngFor="let orderDetail of list_OrderDetail">
                                            <div class="box" *ngIf="orderDetail.orderID==order._id">
                                                <div *ngFor="let book of list_Book">
                                                    <div class="row" *ngIf="book._id==orderDetail.bookID">
                                                        <div class="col-sm-3">
                                                            <img style="border:0px" src={{book.imgBook}} alt="" />
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <p>{{book.nameBook}}</p>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <p>{{orderDetail.price|currency:"VND"}}</p>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <p>x {{orderDetail.count}}</p>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <!-- end of order-container -->


                            </div>
                            <!-- end of Order History -->
                            <!-- inprogress -->

                            <div id="future-orders">
                                <div *ngFor="let order of list_Order">
                                    <div class="order-container" *ngIf="(order.status=='New'&&order.paymentOption=='Online')||order.status=='Inprogress'">

                                        <div class="header">
                                            <div class="row">
                                                <div class="col-sm-3"><span>Ngày Đặt Hàng</span><span>{{order.orderDate}}</span></div>
                                                <div *ngIf="order.discountCode!=0" class="col-sm-3"><span>Tổng Đơn Hàng</span><span>{{order.totalPrice|currency:"VND"}} - {{(order.totalPrice*order.discountCode)/100|currency:"VND"}}({{order.discountCode}}%)={{(order.totalPrice*(100-order.discountCode))/100|currency:"VND"}}    </span></div>
                                                <div *ngIf="order.discountCode==0" class="col-sm-3"><span>Tổng Đơn Hàng</span><span>{{order.totalPrice|currency:"VND"}} </span></div>
                                                <div *ngFor="let cus of list_all_customer">
                                                    <div class="col-sm-2" *ngIf="cus._id==order.customerID"><span>Người Đặt Hàng</span><span>{{cus.name}}</span></div>
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2"><span>Trạng thái</span><span>Đang vận chuyển</span></div>
                                            </div>
                                        </div>
                                        <div *ngFor="let orderDetail of list_OrderDetail">
                                            <div class="box" *ngIf="orderDetail.orderID==order._id">
                                                <div *ngFor="let book of list_Book">
                                                    <div class="row" *ngIf="book._id==orderDetail.bookID">
                                                        <div class="col-sm-3">
                                                            <img style="border:0px" src={{book.imgBook}} alt="" />
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <p>{{book.nameBook}}</p>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <p>{{orderDetail.price|currency:"VND"}}</p>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <p>x {{orderDetail.count}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end of order-container -->
                            <!-- end of future-orders -->
                            <!-- done    -->
                            <div id="done-orders">
                                <div *ngFor="let order of list_Order">
                                    <div class="order-container" *ngIf="order.status=='Done'">

                                        <div class="header">
                                            <div class="row">
                                                <div class="col-sm-3"><span>Ngày Đặt Hàng</span><span>{{order.orderDate}}</span></div>
                                                <div *ngIf="order.discountCode!=0" class="col-sm-3"><span>Tổng Đơn Hàng</span><span>{{order.totalPrice|currency:"VND"}} - {{(order.totalPrice*order.discountCode)/100|currency:"VND"}}({{order.discountCode}}%)={{(order.totalPrice*(100-order.discountCode))/100|currency:"VND"}}    </span></div>
                                                <div *ngIf="order.discountCode==0" class="col-sm-3"><span>Tổng Đơn Hàng</span><span>{{order.totalPrice|currency:"VND"}} </span></div>
                                                <div *ngFor="let cus of list_all_customer">
                                                    <div class="col-sm-2" *ngIf="cus._id==order.customerID"><span>Người Đặt Hàng</span><span>{{cus.name}}</span></div>
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2"><span>Trạng thái</span><span>Đã giao hàng </span></div>
                                            </div>
                                        </div>
                                        <div *ngFor="let orderDetail of list_OrderDetail">
                                            <div class="box" *ngIf="orderDetail.orderID==order._id">
                                                <div *ngFor="let book of list_Book">
                                                    <div class="row" *ngIf="book._id==orderDetail.bookID">
                                                        <div class="col-sm-3">
                                                            <img style="border:0px" src={{book.imgBook}} alt="" />
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <p>{{book.nameBook}}</p>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <p>{{orderDetail.price|currency:"VND"}}</p>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <p>x {{orderDetail.count}}</p>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <a class="btn-default" style="cursor:pointer;" (click)="clickGoToBookDetail(orderDetail.bookID);">Re-Order</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <!-- end of order-container -->


                            </div>
                            <!-- end of future-orders -->

                        </div>
                        <!-- container ends -->
                    </div>
                </div>
            </div>
            <!-- main app container -->
            <div id="shop-sidebar" class="sidebar col-xs-12 col-sm-3 left">
                <style>
                    #price-slider {
                        width: 300px;
                        height: 80px;
                        font-size: 14px;
                    }
                    
                    #price-slider input {
                        width: 90px;
                        display: inline-block;
                        font-size: 12px;
                    }
                    
                    #slider-range {
                        position: relative;
                        margin: auto;
                        width: 250px;
                        height: 13px;
                        border: solid 1px black;
                    }
                    
                    #slider-range .ui-slider-handle {
                        position: absolute;
                        width: 15px;
                        height: 5px;
                        margin-top: 2px;
                        border: solid 1px black;
                        cursor: pointer;
                    }
                    
                    #slider-range .ui-slider-range {
                        background: blue;
                    }
                    
                    #slider-range .ui-corner-all {
                        border-radius: 0px;
                    }
                </style>

                <div id="woocommerce_product_categories-2" class="widget woocommerce widget_product_categories">
                    <h3 class="widget-title">Tài Khoản</h3>
                    <ul class="product-categories">
                        <li class="cat-item cat-item-11">
                            <a href="#">Thông Tin Tài Khoản</a>
                            <a href="#">Thông Tin Liên Hệ</a>
                            <a href="#">Phương Thức Thanh Toán</a>
                            <a href="#">Sách Yêu Thích</a>
                        </li>
                    </ul>
                </div>
                <div id="woocommerce_product_categories-2" class="widget woocommerce widget_product_categories">
                    <h3 class="widget-title">Đơn Hàng</h3>
                    <ul class="product-categories">
                        <li class="cat-item cat-item-11">
                            <a (click)="goToOrderHistory()">Lịch Sử Mua Hàng</a>
                            <a (click)="goToDiscountCode()">Danh Sách Mã Khuyến Mãi</a>
                            <a href="#">Dịch Vụ Trả Hàng</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Back to Top -->
        <div id="back-to-top" data-spy="affix" data-offset-top="300" class="back-to-top hidden-xs hidden-sm affix">
            <button id="scrollToTopButton" class="btn btn-primary" title="Back to Top"><i class="fa fa-arrow-up"></i></button>
        </div>
        <!-- Back to Top -->
    </div>



</body>